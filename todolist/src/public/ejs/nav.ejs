<script type="text/template" id="nav-tmpl">
  <%
  var allCount = navObj.all.count;
  var todayCount = navObj.today.count;
  var list = navObj.list.navlist;
  %>
  <ul class="menu-filter" id="menu-filter">
    <li class="menu-filter-all">
      <a href="#/all" class="item-list all-item-list clearfix">
        <span class="icon">
          <?php
            include('../public/img/all.svg');
          ?>
        </span>
        <span class="title">收件箱</span>
        <span class="r">
          <span class="count passed"><%= allCount.passedCount %></span>
          <span class="count"><%= allCount.count %></span>
        </span>
      </a>
    </li>
    <li class="menu-filter-today">
      <a href="#/today" class="item-list clearfix">
        <span class="icon">
          <?php
            include('../public/img/today.svg');
          ?>
          <span class="today-num">26</span>
        </span>
        <span class="title">今天</span>
        <span class="r">
          <span class="count passed"><%= todayCount.passedCount || 0 %></span>
          <span class="count"><%= todayCount.count || 0 %></span>
        </span>
      </a>
    </li>
  </ul>
  <ul class="menu-your" id="menu-your">
    <% for(var k in list){ %>
    <% if(list[k].type === 'directory'){ %>
    <li class="item-<%= list[k].type %> <% if(list[k].expand){ %> on <%}%> " item-id="<%= list[k].id %>" sort="<%= list[k].sort %>" >
      <div class="dragLine"></div>
      <a href="javascript:;" item-id="<%= list[k].id %>">
        <svg class="folders rtl-flip" width="20px" height="20px" viewBox="0 0 20 20" >
          <g id="Web-svgs" stroke="none" stroke-width="1" fill-rule="evenodd">
            <g id="folders">
              <g id="Path-2-+-c-2" transform="translate(2.000000, 2.000000)">
                <path d="M0.5,16 C0.22,16 -1.34760666e-14,15.82 -1.34760666e-14,15.5909091 L-1.42108547e-14,8.22727273 C-1.42108547e-14,7.55636364 0.68,7 1.5,7 L14.5,7 C15.32,7 16,7.55636364 16,8.22727273 L16,15.5909091 C16,15.82 15.78,16 15.5,16 L0.5,16 Z" id="Path-2" fill-opacity="0.06" transform="translate(8.000000, 11.500000) rotate(-180.000000) translate(-8.000000, -11.500000) "></path>
                <path d="M0.5,12 C0.22,12 -1.34760666e-14,11.78 -1.34760666e-14,11.5 L-1.42108547e-14,2.5 C-1.42108547e-14,1.68 0.68,1 1.5,1 L14.5,1 C15.32,1 16,1.68 16,2.5 L16,11.5 C16,11.78 15.78,12 15.5,12 L0.5,12 Z M1,11 L15,11 L15,2.5 C15,2.22 14.78,2 14.5,2 L1.5,2 C1.22,2 1,2.22 1,2.5 L1,11 Z M9.5,16 C8.68,16 8,15.32 8,14.5 L8,13.5 C8,13.22 8.22,13 8.5,13 C8.78,13 9,13.22 9,13.5 L9,14.5 C9,14.78 9.22,15 9.5,15 L14.5,15 C14.78,15 15,14.78 15,14.5 L15,13.5 C15,13.22 15.22,13 15.5,13 C15.78,13 16,13.22 16,13.5 L16,14.5 C16,15.32 15.32,16 14.5,16 L9.5,16 Z" id="c-2" transform="translate(8.000000, 8.500000) rotate(-180.000000) translate(-8.000000, -8.500000) "></path>
              </g>
            </g>
          </g>
        </svg>
        <span class="title"><%= list[k].name %></span>
        <input type="text" class="titleInput" value="<%= list[k].name %>" >
      <% }else{ %>
      <li class="item-<%= list[k].type %>" item-id="<%= list[k].id %>" sort="<%= list[k].sort %>" >
        <div class="dragLine"></div>
        <a href="#/list-<%= list[k].id %>">
          <svg class="list rtl-flip" width="20px" height="20px" viewBox="0 0 20 20" >
            <g id="Web-svgs" stroke="none" stroke-width="1" fill-rule="evenodd">
              <g id="list">
                <path d="M3,7 C2.44,7 2,6.56 2,6 L2,5 C2,4.44 2.44,4 3,4 L4,4 C4.56,4 5,4.44 5,5 L5,6 C5,6.56 4.56,7 4,7 L3,7 Z M4,5 L3,5 L3,6 L4,6 L4,5 Z M7.5,6 C7.22,6 7,5.78 7,5.5 C7,5.22 7.22,5 7.5,5 L17.5,5 C17.78,5 18,5.22 18,5.5 C18,5.78 17.78,6 17.5,6 L7.5,6 Z M3,12 C2.44,12 2,11.56 2,11 L2,10 C2,9.44 2.44,9 3,9 L4,9 C4.56,9 5,9.44 5,10 L5,11 C5,11.56 4.56,12 4,12 L3,12 Z M4,10 L3,10 L3,11 L4,11 L4,10 Z M7.5,11 C7.22,11 7,10.78 7,10.5 C7,10.22 7.22,10 7.5,10 L17.5,10 C17.78,10 18,10.22 18,10.5 C18,10.78 17.78,11 17.5,11 L7.5,11 Z M3,17 C2.44,17 2,16.56 2,16 L2,15 C2,14.44 2.44,14 3,14 L4,14 C4.56,14 5,14.44 5,15 L5,16 C5,16.56 4.56,17 4,17 L3,17 Z M4,15 L3,15 L3,16 L4,16 L4,15 Z M7.5,16 C7.22,16 7,15.78 7,15.5 C7,15.22 7.22,15 7.5,15 L17.5,15 C17.78,15 18,15.22 18,15.5 C18,15.78 17.78,16 17.5,16 L7.5,16 Z" id="K"></path>
              </g>
            </g>
          </svg>
          <span class="title"><%= list[k].name %></span>
          <input type="text" class="listTitleInput" value="<%= list[k].name %>" >
          <span class="r">
            <span class="count passed"><%= list[k].countObj.passedCount || 0 %></span>
            <span class="count"><%= list[k].countObj.count || 0 %></span>
          </span>
          <% } %>

        </a>
        <%
        var childs = list[k].childs || [];
        if(childs.length){
        %>
        <ul class="menu-your-sub">
          <%
          for(var i in childs){
          if(childs[i].type === "list"){
          %>
          <li class="item-<%= childs[i].type %>" item-id="<%= childs[i].id %>" sort="<%= childs[i].sort %>" >
            <div class="dragLine"></div>
            <a href="#/list-<%= childs[i].id %>">
              <svg class="list rtl-flip" width="20px" height="20px" viewBox="0 0 20 20" >
                <g id="Web-svgs" stroke="none" stroke-width="1" fill-rule="evenodd">
                  <g id="list">
                    <path d="M3,7 C2.44,7 2,6.56 2,6 L2,5 C2,4.44 2.44,4 3,4 L4,4 C4.56,4 5,4.44 5,5 L5,6 C5,6.56 4.56,7 4,7 L3,7 Z M4,5 L3,5 L3,6 L4,6 L4,5 Z M7.5,6 C7.22,6 7,5.78 7,5.5 C7,5.22 7.22,5 7.5,5 L17.5,5 C17.78,5 18,5.22 18,5.5 C18,5.78 17.78,6 17.5,6 L7.5,6 Z M3,12 C2.44,12 2,11.56 2,11 L2,10 C2,9.44 2.44,9 3,9 L4,9 C4.56,9 5,9.44 5,10 L5,11 C5,11.56 4.56,12 4,12 L3,12 Z M4,10 L3,10 L3,11 L4,11 L4,10 Z M7.5,11 C7.22,11 7,10.78 7,10.5 C7,10.22 7.22,10 7.5,10 L17.5,10 C17.78,10 18,10.22 18,10.5 C18,10.78 17.78,11 17.5,11 L7.5,11 Z M3,17 C2.44,17 2,16.56 2,16 L2,15 C2,14.44 2.44,14 3,14 L4,14 C4.56,14 5,14.44 5,15 L5,16 C5,16.56 4.56,17 4,17 L3,17 Z M4,15 L3,15 L3,16 L4,16 L4,15 Z M7.5,16 C7.22,16 7,15.78 7,15.5 C7,15.22 7.22,15 7.5,15 L17.5,15 C17.78,15 18,15.22 18,15.5 C18,15.78 17.78,16 17.5,16 L7.5,16 Z" id="K"></path>
                  </g>
                </g>
              </svg>

              <span class="title"><%= childs[i].name %></span>
              <input type="text" class="listTitleInput" value="<%= childs[i].name %>" >
              <span class="r">
                <span class="count passed"><%= childs[i].countObj.passedCount || 0 %></span>
                <span class="count"><%= childs[i].countObj.count || 0 %></span>
              </span>
            </a>
          </li>
          <%
          }
          }
          %>
        </ul>
        <% } %>
    </li>
    <% } %>
  </ul>
</script>

